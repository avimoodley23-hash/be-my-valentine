<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <!-- SECRET PREVIEW -->
  <title>Quick question</title>
  <meta property="og:title" content="Quick question">
  <meta property="og:description" content="Open when you have a second">
  <meta property="og:type" content="website">

  <style>
    :root{
      --bg1:#ff5fa2;
      --bg2:#7c3aed;
      --card:#ffffffee;
      --text:#111827;
      --muted:#6b7280;
      --yes:#16a34a;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 20% 10%, #ffd1e6 0%, transparent 55%),
        radial-gradient(900px 600px at 80% 20%, #c4b5fd 0%, transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      padding:24px;
      overflow:hidden;
    }

    /* Raining hearts layer */
    .rain{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:0;
      overflow:hidden;
    }
    .drop{
      position:absolute;
      top:-10vh;
      font-size:18px;
      opacity:.75;
      animation: fall linear infinite;
      filter: drop-shadow(0 8px 12px rgba(0,0,0,.12));
      transform: translate3d(0,0,0);
      will-change: transform;
    }
    @keyframes fall{
      from{ transform: translate3d(0,-12vh,0); }
      to{ transform: translate3d(0,112vh,0); }
    }

    .card{
      width:min(720px, 100%);
      background:var(--card);
      border-radius:28px;
      box-shadow:0 30px 80px rgba(0,0,0,.25);
      padding:28px;
      backdrop-filter: blur(10px);
      position:relative;
      z-index:1;
    }
    h1{
      margin:8px 0 6px;
      font-size:clamp(30px,4vw,44px);
    }
    p{
      margin:0 0 18px;
      color:var(--muted);
      font-size:16px;
      line-height:1.45;
    }
    .stage{
      margin-top:10px;
      border-radius:22px;
      background:#fff;
      padding:22px;
      border:1px solid #e5e7eb;
      min-height:240px;
      position:relative;
      overflow:hidden;
    }
    .buttons{
      display:flex;
      gap:14px;
      flex-wrap:wrap;
      align-items:center;
      position:relative;
      min-height:70px;
    }
    button{
      border:0;
      border-radius:16px;
      padding:14px 20px;
      font-size:16px;
      font-weight:800;
      cursor:pointer;
      user-select:none;
      touch-action: manipulation;
      transform-origin: center;
    }
    .yes{
      background:var(--yes);
      color:white;
      box-shadow:0 14px 30px rgba(22,163,74,.3);
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .no{
      background:#f3f4f6;
      border:1px solid #e5e7eb;
      position:relative;
    }

    .screen{display:none}
    .screen.active{display:block}

    .big{
      font-size:clamp(22px,3vw,34px);
      font-weight:900;
      margin:0 0 10px;
      letter-spacing:-.02em;
    }
    .egg{
      font-size:52px;
      position:fixed;
      cursor:pointer;
      user-select:none;
      z-index:9999;
      transition: left 0.12s ease, top 0.12s ease;
    }
    .pill{
      display:inline-block;
      margin-top:10px;
      padding:10px 12px;
      border-radius:999px;
      background:#ecfdf5;
      border:1px solid #bbf7d0;
      color:#065f46;
      font-weight:800;
      font-size:14px;
    }
    .tiny{
      margin-top:12px;
      font-size:13px;
      color:#6b7280;
    }
  </style>
</head>

<body>

<div class="rain" id="rain"></div>

<div class="card">
  <h1 id="headline">Hey Zozo üíò</h1>
  <p>Hi. It‚Äôs me. The guy who would rather code a website than risk fumbling in person.</p>

  <div class="stage">
    <!-- Screen 1 -->
    <div class="screen active" id="screen1">
      <p class="big">Will you be my Valentine, Bean?</p>

      <div class="buttons" id="btnZone">
        <button class="yes" id="yesBtn">Yes üíñ</button>
        <button class="no" id="noBtn">No üòÖ</button>
      </div>

      <div class="tiny">There is no wrong answer. Except one. You know which one üòå</div>
    </div>

    <!-- Screen 2 -->
    <div class="screen" id="screen2">
      <p class="big">Okay okay üòè</p>
      <p>One last thing.</p>
      <p><strong>Catch the eggplant üçÜ</strong></p>
      <div class="tiny">Tap it. If you can.</div>
    </div>

    <!-- Screen 3 -->
    <div class="screen" id="screen3">
      <p class="big">Yessss. My heart just did a backflip üò≠üíû</p>
      <p>Cool. Picked you up at 7 üòå Wear something cute. I‚Äôll be the one staring respectfully.</p>
      <div class="pill">Screenshot this and send it to me</div>
    </div>
  </div>
</div>

<div class="egg" id="egg">üçÜ</div>

<script>
  // Reveal tab title only after open
  setTimeout(() => { document.title = "Zozo, Bean, Zo üíò"; }, 600);

  // Name via URL: ?name=Zozo or ?name=Zo
  const params = new URLSearchParams(location.search);
  const name = params.get("name");
  if (name) document.getElementById("headline").textContent = `Hey ${name} üíò`;

  // Raining hearts for mobile + desktop
  const rain = document.getElementById("rain");
  const hearts = ["üíó","üíñ","üíò","üíû","üíï","‚ù§Ô∏è","üíì","üíù"];
  const isReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

  function addDrop(){
    const d = document.createElement("div");
    d.className = "drop";
    d.textContent = hearts[Math.floor(Math.random() * hearts.length)];
    const left = Math.random() * 100;
    const size = 14 + Math.random() * 20;
    const dur = 4.5 + Math.random() * 6.5;
    const delay = Math.random() * 1.2;

    d.style.left = left + "vw";
    d.style.fontSize = size + "px";
    d.style.animationDuration = dur + "s";
    d.style.animationDelay = delay + "s";
    d.style.opacity = (0.35 + Math.random() * 0.55).toFixed(2);

    rain.appendChild(d);
    setTimeout(() => d.remove(), (dur + delay) * 1000 + 200);
  }

  if (!isReduced){
    const density = window.innerWidth < 520 ? 320 : 220; // slower on phones
    for (let i = 0; i < 18; i++) addDrop();
    setInterval(addDrop, density);
  }

  // Screens
  const yesBtn = document.getElementById("yesBtn");
  const noBtn = document.getElementById("noBtn");
  const egg = document.getElementById("egg");

  const screen1 = document.getElementById("screen1");
  const screen2 = document.getElementById("screen2");
  const screen3 = document.getElementById("screen3");

  egg.style.display = "none";

  function showScreen(n){
    screen1.classList.remove("active");
    screen2.classList.remove("active");
    screen3.classList.remove("active");
    document.getElementById("screen" + n).classList.add("active");
  }

  // YES grows as she chases NO
  let yesScale = 1;
  function growYes(){
    yesScale = Math.min(2.1, yesScale + 0.10);
    yesBtn.style.transform = `scale(${yesScale})`;
    yesBtn.style.boxShadow = `0 18px 44px rgba(22,163,74,${Math.min(0.65, 0.25 + yesScale/6)})`;
  }

  // Make NO impossible, but never disappear
  function moveNo(){
    const pad = 10;

    // Keep it inside the viewport
    const w = noBtn.offsetWidth || 120;
    const h = noBtn.offsetHeight || 52;

    const maxX = Math.max(pad, window.innerWidth - w - pad);
    const maxY = Math.max(pad, window.innerHeight - h - pad);

    const x = Math.random() * (maxX - pad) + pad;
    const y = Math.random() * (maxY - pad) + pad;

    noBtn.style.position = "fixed";
    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";
    noBtn.style.zIndex = "9998";

    growYes();
  }

  // Desktop: hover moves it
  noBtn.addEventListener("mouseenter", moveNo);

  // Mobile: touching it moves it before click registers
  noBtn.addEventListener("touchstart", (e) => {
    e.preventDefault();
    moveNo();
  }, { passive:false });

  // Also panic if finger gets near the NO button
  document.addEventListener("touchstart", (e)=>{
    if (!screen1.classList.contains("active")) return;
    const r = noBtn.getBoundingClientRect();
    const t = e.touches[0];
    const dx = Math.abs(t.clientX - (r.left + r.width/2));
    const dy = Math.abs(t.clientY - (r.top + r.height/2));
    if (dx < 140 && dy < 110) moveNo();
  }, { passive:true });

  // Just in case they manage to click NO
  noBtn.addEventListener("click", (e)=>{
    e.preventDefault();
    moveNo();
  });

  // YES click goes to egg game
  yesBtn.addEventListener("click", ()=>{
    showScreen(2);
    egg.style.display = "block";
    moveEgg();
  });

  // Eggplant game
  function moveEgg(){
    const pad = 12;
    const w = 60;
    const h = 60;
    const maxX = Math.max(pad, window.innerWidth - w - pad);
    const maxY = Math.max(pad, window.innerHeight - h - pad);

    const x = Math.random() * (maxX - pad) + pad;
    const y = Math.random() * (maxY - pad) + pad;

    egg.style.left = x + "px";
    egg.style.top = y + "px";
  }

  egg.addEventListener("mouseenter", moveEgg);
  egg.addEventListener("touchstart", (e)=>{
    e.preventDefault();
    moveEgg();
  }, { passive:false });

  egg.addEventListener("click", ()=>{
    egg.style.display = "none";
    showScreen(3);
  });
</script>

</body>
</html>
