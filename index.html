<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <!-- SECRET PREVIEW -->
  <title>Quick question</title>
  <meta property="og:title" content="Quick question">
  <meta property="og:description" content="Open when you have a second">
  <meta property="og:type" content="website">

  <style>
    :root{
      --bg1:#ff5fa2;
      --bg2:#7c3aed;
      --card:#ffffffee;
      --text:#111827;
      --muted:#6b7280;
      --yes:#16a34a;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 20% 10%, #ffd1e6 0%, transparent 55%),
        radial-gradient(900px 600px at 80% 20%, #c4b5fd 0%, transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      padding:22px;
      overflow:hidden;
    }

    .card{
      width:min(760px, 100%);
      background:var(--card);
      border-radius:28px;
      box-shadow:0 30px 80px rgba(0,0,0,.25);
      padding:26px;
      backdrop-filter: blur(10px);
      position:relative;
      z-index:1;
    }
    h1{
      margin:8px 0 6px;
      font-size:clamp(30px,4vw,44px);
      letter-spacing:-.03em;
    }
    p{
      margin:0 0 18px;
      color:var(--muted);
      font-size:16px;
      line-height:1.45;
    }
    .stage{
      margin-top:10px;
      border-radius:22px;
      background:#fff;
      padding:22px;
      border:1px solid #e5e7eb;
      min-height:290px;
      position:relative;
      overflow:hidden;
    }
    .screen{ display:none; }
    .screen.active{ display:block; }

    .big{
      font-size:clamp(22px,3vw,34px);
      font-weight:900;
      margin:0 0 10px;
      letter-spacing:-.02em;
      color:#111827;
    }
    .tiny{
      margin-top:12px;
      font-size:13px;
      color:#6b7280;
      line-height:1.4;
    }

    .buttons{
      display:flex;
      gap:14px;
      flex-wrap:wrap;
      align-items:center;
      position:relative;
      min-height:74px;
    }
    button{
      border:0;
      border-radius:16px;
      padding:14px 20px;
      font-size:16px;
      font-weight:800;
      cursor:pointer;
      user-select:none;
      touch-action: manipulation;
      transform-origin:center;
    }
    .yes{
      background:var(--yes);
      color:white;
      box-shadow:0 14px 30px rgba(22,163,74,.3);
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .no{
      background:#f3f4f6;
      border:1px solid #e5e7eb;
      position:relative;
      color:#111827;
    }

    .pill{
      display:inline-block;
      margin-top:10px;
      padding:10px 12px;
      border-radius:999px;
      background:#ecfdf5;
      border:1px solid #bbf7d0;
      color:#065f46;
      font-weight:800;
      font-size:14px;
    }

    /* Photo */
    .photoWrap{
      margin-top:14px;
      border-radius:18px;
      overflow:hidden;
      border:1px solid #e5e7eb;
      box-shadow:0 18px 40px rgba(0,0,0,.12);
      background:#fff;
    }
    .photoWrap img{
      width:100%;
      height:auto;
      display:block;
      object-fit:cover;
    }
    .caption{
      padding:10px 12px;
      font-size:13px;
      color:#6b7280;
      background:#fff;
      border-top:1px solid #f3f4f6;
    }

    /* Heart flood */
    .heartFlood{
      position:fixed;
      inset:0;
      z-index:10002;
      pointer-events:none;
      display:none;
      overflow:hidden;
    }
    .heartFlood.active{ display:block; }
    .floodHeart{
      position:absolute;
      opacity:0;
      animation: floodPop 0.75s ease forwards;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.12));
    }
    @keyframes floodPop{
      0%{ transform: scale(0.45) translateY(10px); opacity:0; }
      35%{ opacity:1; }
      100%{ transform: scale(1.1) translateY(0); opacity:1; }
    }

    /* Confetti */
    .confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:9999;
      overflow:hidden;
      display:none;
    }
    .confetti.active{ display:block; }
    .conf{
      position:absolute;
      top:-10vh;
      font-size:18px;
      animation: confFall linear forwards;
      opacity:.95;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.12));
    }
    @keyframes confFall{
      from{ transform: translate3d(0,-14vh,0) rotate(0deg); }
      to{ transform: translate3d(0,120vh,0) rotate(360deg); }
    }

    /* Egg */
    .egg{
      font-size:52px;
      position:fixed;
      cursor:pointer;
      user-select:none;
      z-index:9998;
      transition: left 0.12s ease, top 0.12s ease;
      display:none;
    }

    /* Toast */
    .toast{
      position:fixed;
      left:50%;
      top:18px;
      transform: translateX(-50%);
      z-index:10001;
      background: rgba(17,24,39,.78);
      color:#fff;
      border:1px solid rgba(255,255,255,.22);
      border-radius:999px;
      padding:10px 14px;
      font-weight:800;
      font-size:13px;
      backdrop-filter: blur(8px);
      display:none;
      pointer-events:none;
    }
    .toast.show{ display:block; }

    /* Captcha overlay */
    .gate{
      position:fixed;
      inset:0;
      z-index:10050;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
      background: rgba(255,255,255,.18);
      backdrop-filter: blur(10px);
    }
    .gate.hidden{ display:none; }
    .gateCard{
      width:min(520px, 100%);
      background:#ffffffee;
      border:1px solid #ffffffaa;
      border-radius:22px;
      box-shadow:0 30px 80px rgba(0,0,0,.18);
      padding:20px;
    }
    .gateTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:10px;
    }
    .gateTitle{
      font-weight:900;
      color:#111827;
      margin:0;
      font-size:16px;
    }
    .gateHint{
      margin:0;
      color:#6b7280;
      font-size:13px;
      line-height:1.35;
    }
    .checkRow{
      display:flex;
      align-items:center;
      gap:12px;
      padding:14px;
      border-radius:18px;
      border:1px solid #e5e7eb;
      background:#fff;
      margin-top:12px;
    }
    .box{
      width:22px;
      height:22px;
      border-radius:6px;
      border:2px solid #cbd5e1;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      color:#16a34a;
      flex:0 0 auto;
    }
    .box.checked{
      border-color:#16a34a;
      background:#ecfdf5;
    }
    .tapGrid{
      margin-top:12px;
      border-radius:18px;
      border:1px solid #e5e7eb;
      background:#fff;
      padding:12px;
      display:none;
    }
    .tapGrid.active{ display:block; }
    .grid{
      display:grid;
      grid-template-columns: repeat(5, minmax(0, 1fr));
      gap:10px;
      margin-top:10px;
    }
    .cell{
      border-radius:14px;
      border:1px solid #e5e7eb;
      background:#f9fafb;
      padding:10px 0;
      text-align:center;
      font-size:20px;
      cursor:pointer;
      user-select:none;
    }
    .cell.hit{
      background:#ecfdf5;
      border-color:#bbf7d0;
    }
    @media (max-width: 520px){
      .grid{ grid-template-columns: repeat(4, minmax(0, 1fr)); }
    }
    .gateBtn{
      margin-top:12px;
      width:100%;
      border-radius:16px;
      padding:14px 16px;
      font-weight:900;
      background:#111827;
      color:#fff;
      border:0;
      display:none;
    }
    .gateBtn.show{ display:block; }
  </style>
</head>

<body>

<div class="heartFlood" id="heartFlood"></div>
<div class="confetti" id="confetti"></div>
<div class="toast" id="toast">Maybe you will get it later too üòâ</div>

<!-- Captcha gate -->
<div class="gate" id="gate">
  <div class="gateCard">
    <div class="gateTop">
      <p class="gateTitle">Security check</p>
      <p class="gateHint">Just making sure you‚Äôre Zozo üëÄ</p>
    </div>

    <div class="checkRow" id="robotRow">
      <div class="box" id="robotBox"></div>
      <div>
        <div style="font-weight:900; color:#111827;">I am not a robot</div>
        <div style="font-size:13px; color:#6b7280;">Tap to continue</div>
      </div>
    </div>

    <div class="tapGrid" id="tapGrid">
      <div style="font-weight:900; color:#111827;">Tiny captcha</div>
      <div style="font-size:13px; color:#6b7280;">Tap <strong>3 hearts</strong> to prove you‚Äôre cute.</div>

      <div class="grid" id="grid"></div>
      <button class="gateBtn" id="enterBtn">Enter üòå</button>
    </div>
  </div>
</div>

<div class="card">
  <h1 id="headline">Hey Zozo üíò</h1>
  <p>Hi. It‚Äôs me. The guy who buys you food, gives you cuddles, and is pretty cool.</p>

  <div class="stage">
    <div class="screen" id="screen1">
      <p class="big">Will you be my Valentine, Bean?</p>
      <div class="buttons">
        <button class="yes" id="yesBtn">Yes üíñ</button>
        <button class="no" id="noBtn">No üòÖ</button>
      </div>
      <div class="tiny">There is no wrong answer. Except one. You know which one üòå</div>
    </div>

    <div class="screen" id="screen2">
      <p class="big">Congratulations. You are my Valentine! üíò</p>
      <p>Thank you so much. I am finally at peace.</p>

      <div class="photoWrap">
        <img src="us.jpg" alt="Us">
        <div class="caption">Us ü•π</div>
      </div>

      <p style="margin-top:14px;"><strong>Now catch the eggplant üçÜ</strong></p>
      <div class="tiny">Attempts: <span id="eggAttempts">0</span> of 5</div>
      <div class="tiny" id="eggReady" style="display:none;">Okay fine. You can catch it now üò≠ Tap it.</div>
    </div>

    <div class="screen" id="screen3">
      <p class="big">You said yes üò≠üíû</p>
      <p>That means it‚Äôs a promise of a whole lot of happiness, food, and fun.</p>
      <div class="pill">Screenshot this and send it to me üòå</div>
    </div>
  </div>
</div>

<div class="egg" id="egg">üçÜ</div>

<script>
  setTimeout(() => { document.title = "Zozo, Bean, Zo üíò"; }, 650);

  const params = new URLSearchParams(location.search);
  const name = params.get("name");
  if (name) document.getElementById("headline").textContent = `Hey ${name} üíò`;

  // Screens
  const screen1 = document.getElementById("screen1");
  const screen2 = document.getElementById("screen2");
  const screen3 = document.getElementById("screen3");

  function showScreen(n){
    screen1.classList.remove("active");
    screen2.classList.remove("active");
    screen3.classList.remove("active");
    document.getElementById("screen" + n).classList.add("active");
  }

  // Captcha gate logic
  const gate = document.getElementById("gate");
  const robotRow = document.getElementById("robotRow");
  const robotBox = document.getElementById("robotBox");
  const tapGrid = document.getElementById("tapGrid");
  const grid = document.getElementById("grid");
  const enterBtn = document.getElementById("enterBtn");

  let heartsNeeded = 3;
  let heartsTapped = 0;

  function buildGrid(){
    grid.innerHTML = "";
    heartsTapped = 0;
    enterBtn.classList.remove("show");

    const items = [];
    // Put more hearts than needed so it feels easy
    for (let i = 0; i < 6; i++) items.push("üíñ");
    for (let i = 0; i < 10; i++) items.push(["üçï","‚ú®","üå∏","üç£","üòå","üç¶"][Math.floor(Math.random()*6)]);

    // Shuffle
    for (let i = items.length - 1; i > 0; i--){
      const j = Math.floor(Math.random() * (i + 1));
      [items[i], items[j]] = [items[j], items[i]];
    }

    const shown = items.slice(0, 20);
    shown.forEach((emoji) => {
      const c = document.createElement("div");
      c.className = "cell";
      c.textContent = emoji;
      c.addEventListener("click", () => {
        if (c.classList.contains("hit")) return;
        c.classList.add("hit");
        if (emoji === "üíñ"){
          heartsTapped += 1;
          if (heartsTapped >= heartsNeeded){
            enterBtn.classList.add("show");
          }
        }
      });
      grid.appendChild(c);
    });
  }

  robotRow.addEventListener("click", () => {
    robotBox.classList.add("checked");
    robotBox.textContent = "‚úì";
    tapGrid.classList.add("active");
    buildGrid();
  });

  enterBtn.addEventListener("click", () => {
    gate.classList.add("hidden");
    showScreen(1);
  });

  // Heart flood transition
  const heartFlood = document.getElementById("heartFlood");
  function floodHearts(durationMs){
    heartFlood.innerHTML = "";
    heartFlood.classList.add("active");

    const count = window.innerWidth < 520 ? 75 : 110;
    const floodSet = ["üíñ","üíò","üíû","üíï","‚ù§Ô∏è","üíó","üíù","‚ú®"];

    for (let i = 0; i < count; i++){
      const h = document.createElement("div");
      h.className = "floodHeart";
      h.textContent = floodSet[Math.floor(Math.random() * floodSet.length)];
      h.style.left = (Math.random() * 100) + "vw";
      h.style.top = (Math.random() * 100) + "vh";
      h.style.fontSize = (18 + Math.random() * 44) + "px";
      h.style.animationDelay = (Math.random() * 0.35) + "s";
      heartFlood.appendChild(h);
    }

    setTimeout(() => {
      heartFlood.classList.remove("active");
      heartFlood.innerHTML = "";
    }, durationMs);
  }

  // Confetti
  const confetti = document.getElementById("confetti");
  const confChars = ["üíñ","üíò","‚ú®","üéâ","üíó","üíï","‚ù§Ô∏è","üå∏","‚≠ê"];
  function burstConfetti(){
    confetti.classList.add("active");
    const count = window.innerWidth < 520 ? 26 : 38;

    for (let i = 0; i < count; i++){
      const c = document.createElement("div");
      c.className = "conf";
      c.textContent = confChars[Math.floor(Math.random() * confChars.length)];
      c.style.left = (Math.random() * 100) + "vw";
      c.style.fontSize = (14 + Math.random() * 22) + "px";
      c.style.animationDuration = (2.6 + Math.random() * 1.6) + "s";
      confetti.appendChild(c);
      setTimeout(() => c.remove(), 4500);
    }
    setTimeout(() => confetti.classList.remove("active"), 3200);
  }

  // Toast
  const toast = document.getElementById("toast");
  function showToast(){
    toast.classList.add("show");
    setTimeout(() => toast.classList.remove("show"), 3200);
  }

  // Buttons and egg
  const yesBtn = document.getElementById("yesBtn");
  const noBtn = document.getElementById("noBtn");
  const egg = document.getElementById("egg");

  // Yes grows as she chases No
  let yesScale = 1;
  function growYes(){
    yesScale = Math.min(2.4, yesScale + 0.10);
    yesBtn.style.transform = `scale(${yesScale})`;
    yesBtn.style.boxShadow = `0 18px 44px rgba(22,163,74,${Math.min(0.75, 0.25 + yesScale/6)})`;
  }

  // No jitter
  let noHome = null;
  function clamp(v, min, max){ return Math.max(min, Math.min(max, v)); }
  function setNoHomeIfNeeded(){
    if (noHome) return;
    const r = noBtn.getBoundingClientRect();
    noHome = { cx: r.left + r.width/2, cy: r.top + r.height/2, w: r.width, h: r.height };
  }
  function jitterNo(){
    setNoHomeIfNeeded();

    const pad = 10;
    const zoneRadiusX = Math.max(120, Math.min(220, window.innerWidth * 0.22));
    const zoneRadiusY = Math.max(95,  Math.min(170, window.innerHeight * 0.16));

    const rx = (Math.random() * 2 - 1) * zoneRadiusX;
    const ry = (Math.random() * 2 - 1) * zoneRadiusY;

    const x = noHome.cx + rx - noHome.w/2;
    const y = noHome.cy + ry - noHome.h/2;

    const maxX = window.innerWidth - noHome.w - pad;
    const maxY = window.innerHeight - noHome.h - pad;

    noBtn.style.position = "fixed";
    noBtn.style.left = clamp(x, pad, maxX) + "px";
    noBtn.style.top = clamp(y, pad, maxY) + "px";
    noBtn.style.zIndex = "9997";

    growYes();
  }
  window.addEventListener("resize", () => { noHome = null; });

  noBtn.addEventListener("mouseenter", jitterNo);
  noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); jitterNo(); }, { passive:false });
  document.addEventListener("touchstart", (e) => {
    if (!screen1.classList.contains("active")) return;
    const r = noBtn.getBoundingClientRect();
    const t = e.touches[0];
    const dx = Math.abs(t.clientX - (r.left + r.width/2));
    const dy = Math.abs(t.clientY - (r.top + r.height/2));
    if (dx < 165 && dy < 135) jitterNo();
  }, { passive:true });
  noBtn.addEventListener("click", (e)=>{ e.preventDefault(); jitterNo(); });

  // Egg attempts
  let eggDodges = 0;
  const maxDodges = 5;
  const eggAttemptsEl = document.getElementById("eggAttempts");
  const eggReadyEl = document.getElementById("eggReady");

  function updateEggUI(){
    eggAttemptsEl.textContent = String(eggDodges);
    if (eggDodges >= maxDodges) eggReadyEl.style.display = "block";
  }

  function moveEgg(){
    const pad = 12;
    const w = 60;
    const h = 60;
    const maxX = Math.max(pad, window.innerWidth - w - pad);
    const maxY = Math.max(pad, window.innerHeight - h - pad);
    egg.style.left = (Math.random() * (maxX - pad) + pad) + "px";
    egg.style.top  = (Math.random() * (maxY - pad) + pad) + "px";
  }

  function eggDodge(){
    if (eggDodges < maxDodges){
      eggDodges += 1;
      updateEggUI();
      moveEgg();
    }
  }

  // YES click -> heart flood -> screen 2
  yesBtn.addEventListener("click", () => {
    floodHearts(950);
    setTimeout(() => {
      showScreen(2);
      eggDodges = 0;
      eggReadyEl.style.display = "none";
      updateEggUI();
      egg.style.display = "block";
      moveEgg();
    }, 700);
  });

  egg.addEventListener("mouseenter", eggDodge);
  egg.addEventListener("touchstart", (e)=>{ e.preventDefault(); eggDodge(); }, { passive:false });

  egg.addEventListener("click", () => {
    if (eggDodges < maxDodges){
      eggDodge();
      return;
    }
    egg.style.display = "none";
    burstConfetti();
    showToast();
    showScreen(3);
  });
</script>

</body>
</html>
