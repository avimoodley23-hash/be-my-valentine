<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <!-- SECRET PREVIEW -->
  <title>Quick question</title>
  <meta property="og:title" content="Quick question">
  <meta property="og:description" content="Open when you have a second">
  <meta property="og:type" content="website">

  <style>
    :root{
      --bg1:#ff5fa2;
      --bg2:#7c3aed;
      --card:#ffffffee;
      --text:#111827;
      --muted:#6b7280;
      --yes:#16a34a;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 20% 10%, #ffd1e6 0%, transparent 55%),
        radial-gradient(900px 600px at 80% 20%, #c4b5fd 0%, transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      padding:24px;
      overflow:hidden;
    }

    /* Raining hearts */
    .rain{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:0;
      overflow:hidden;
    }
    .drop{
      position:absolute;
      top:-12vh;
      font-size:18px;
      opacity:.75;
      animation: fall linear infinite;
      filter: drop-shadow(0 8px 12px rgba(0,0,0,.12));
      transform: translate3d(0,0,0);
      will-change: transform;
    }
    @keyframes fall{
      from{ transform: translate3d(0,-12vh,0); }
      to{ transform: translate3d(0,112vh,0); }
    }

    /* Confetti */
    .confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:9999;
      overflow:hidden;
      display:none;
    }
    .confetti.active{ display:block; }
    .conf{
      position:absolute;
      top:-10vh;
      font-size:18px;
      animation: confFall linear forwards;
      opacity:.95;
      transform: translate3d(0,0,0);
      will-change: transform;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.12));
    }
    @keyframes confFall{
      from{ transform: translate3d(0,-14vh,0) rotate(0deg); }
      to{ transform: translate3d(0,120vh,0) rotate(360deg); }
    }

    .card{
      width:min(760px, 100%);
      background:var(--card);
      border-radius:28px;
      box-shadow:0 30px 80px rgba(0,0,0,.25);
      padding:28px;
      backdrop-filter: blur(10px);
      position:relative;
      z-index:1;
    }
    h1{
      margin:8px 0 6px;
      font-size:clamp(30px,4vw,44px);
      letter-spacing:-.03em;
    }
    p{
      margin:0 0 18px;
      color:var(--muted);
      font-size:16px;
      line-height:1.45;
    }
    .stage{
      margin-top:10px;
      border-radius:22px;
      background:#fff;
      padding:22px;
      border:1px solid #e5e7eb;
      min-height:270px;
      position:relative;
      overflow:hidden;
    }

    .screen{ display:none; }
    .screen.active{ display:block; }

    .big{
      font-size:clamp(22px,3vw,34px);
      font-weight:900;
      margin:0 0 10px;
      letter-spacing:-.02em;
      color:#111827;
    }
    .tiny{
      margin-top:12px;
      font-size:13px;
      color:#6b7280;
      line-height:1.4;
    }

    .buttons{
      display:flex;
      gap:14px;
      flex-wrap:wrap;
      align-items:center;
      position:relative;
      min-height:74px;
    }
    button{
      border:0;
      border-radius:16px;
      padding:14px 20px;
      font-size:16px;
      font-weight:800;
      cursor:pointer;
      user-select:none;
      touch-action: manipulation;
      transform-origin:center;
    }
    .yes{
      background:var(--yes);
      color:white;
      box-shadow:0 14px 30px rgba(22,163,74,.3);
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .no{
      background:#f3f4f6;
      border:1px solid #e5e7eb;
      position:relative;
      color:#111827;
    }
    .pill{
      display:inline-block;
      margin-top:10px;
      padding:10px 12px;
      border-radius:999px;
      background:#ecfdf5;
      border:1px solid #bbf7d0;
      color:#065f46;
      font-weight:800;
      font-size:14px;
    }

    /* Loading overlay */
    .overlay{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:10000;
      background: rgba(255,255,255,.18);
      backdrop-filter: blur(10px);
      padding:24px;
    }
    .overlay.hidden{ display:none; }
    .overlayCard{
      width:min(520px, 100%);
      background:#ffffffee;
      border:1px solid #ffffffaa;
      border-radius:22px;
      box-shadow:0 30px 80px rgba(0,0,0,.18);
      padding:22px;
      text-align:center;
    }
    .spinner{
      width:44px;
      height:44px;
      border-radius:50%;
      border:5px solid rgba(0,0,0,.12);
      border-top-color: rgba(0,0,0,.55);
      margin:0 auto 14px;
      animation: spin 0.9s linear infinite;
    }
    @keyframes spin{ to{ transform: rotate(360deg); } }
    .overlayTitle{
      font-weight:900;
      font-size:18px;
      margin:0 0 6px;
      color:#111827;
      letter-spacing:-.01em;
    }
    .overlayText{
      margin:0;
      color:#6b7280;
      font-size:14px;
      line-height:1.35;
    }

    /* Date menu */
    .menu{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:12px;
      margin-top:14px;
    }
    .choice{
      border:1px solid #e5e7eb;
      background:#f9fafb;
      border-radius:18px;
      padding:14px;
      cursor:pointer;
      user-select:none;
      transition: transform .08s ease, background .15s ease;
      text-align:left;
    }
    .choice:active{ transform: scale(.98); }
    .choice strong{
      display:block;
      font-size:14px;
      color:#111827;
      margin-bottom:6px;
    }
    .choice span{
      display:block;
      font-size:12px;
      color:#6b7280;
      line-height:1.25;
    }
    @media (max-width: 520px){
      .menu{ grid-template-columns: 1fr; }
    }

    /* Egg */
    .egg{
      font-size:52px;
      position:fixed;
      cursor:pointer;
      user-select:none;
      z-index:9998;
      transition: left 0.12s ease, top 0.12s ease;
      display:none;
    }
  </style>
</head>

<body>

<div class="rain" id="rain"></div>
<div class="confetti" id="confetti"></div>

<div class="overlay" id="overlay">
  <div class="overlayCard">
    <div class="spinner"></div>
    <p class="overlayTitle" id="overlayTitle">Verifying Zozo‚Äôs answer‚Ä¶</p>
    <p class="overlayText" id="overlayText">Please wait. Bean level check in progress.</p>
  </div>
</div>

<div class="card">
  <h1 id="headline">Hey Zozo üíò</h1>
  <p id="subline">Hi. It‚Äôs me. The guy who buys you food, gives you cuddles, and is pretty cool.</p>

  <div class="stage">
    <!-- Screen 1 -->
    <div class="screen" id="screen1">
      <p class="big">Will you be my Valentine, Bean?</p>

      <div class="buttons">
        <button class="yes" id="yesBtn">Yes üíñ</button>
        <button class="no" id="noBtn">No üòÖ</button>
      </div>

      <div class="tiny">There is no wrong answer. Except one. You know which one üòå</div>
    </div>

    <!-- Screen 2 -->
    <div class="screen" id="screen2">
      <p class="big">Okay okay üòè</p>
      <p>One last thing.</p>
      <p><strong>Catch the eggplant üçÜ</strong></p>
      <div class="tiny">Tap it. If you can.</div>
    </div>

    <!-- Screen 3: Date menu -->
    <div class="screen" id="screen3">
      <p class="big">You said yes üò≠üíû</p>
      <p>That means it‚Äôs a promise of a whole lot of happiness, food, and fun.</p>
      <p><strong>Choose our Valentine vibe:</strong></p>

      <div class="menu" id="menu">
        <div class="choice" data-choice="Sushi night üç£">
          <strong>Sushi night üç£</strong>
          <span>Fancy, cute, we pretend we‚Äôre classy.</span>
        </div>
        <div class="choice" data-choice="Pizza date üçï">
          <strong>Pizza date üçï</strong>
          <span>Maximum comfort, maximum joy.</span>
        </div>
        <div class="choice" data-choice="Ice cream mission üç¶">
          <strong>Ice cream mission üç¶</strong>
          <span>Sweet, chaotic, and we share bites.</span>
        </div>
      </div>

      <div class="pill" id="picked" style="display:none; margin-top:14px;"></div>
      <div class="tiny" id="pickedHint" style="display:none;">Screenshot this and send it to me üòå</div>
    </div>
  </div>
</div>

<div class="egg" id="egg">üçÜ</div>

<script>
  // Reveal tab title after open
  setTimeout(() => { document.title = "Zozo, Bean, Zo üíò"; }, 650);

  // Personalise name via URL: ?name=Zozo or ?name=Zo
  const params = new URLSearchParams(location.search);
  const name = params.get("name");
  if (name) document.getElementById("headline").textContent = `Hey ${name} üíò`;

  // Loading overlay, then show screen 1
  const overlay = document.getElementById("overlay");
  const screen1 = document.getElementById("screen1");
  const screen2 = document.getElementById("screen2");
  const screen3 = document.getElementById("screen3");

  function showScreen(n){
    screen1.classList.remove("active");
    screen2.classList.remove("active");
    screen3.classList.remove("active");
    document.getElementById("screen" + n).classList.add("active");
  }

  setTimeout(() => {
    overlay.classList.add("hidden");
    showScreen(1);
  }, 1500);

  // Raining hearts for phone + desktop
  const rain = document.getElementById("rain");
  const hearts = ["üíó","üíñ","üíò","üíû","üíï","‚ù§Ô∏è","üíì","üíù"];
  const isReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

  function addDrop(){
    const d = document.createElement("div");
    d.className = "drop";
    d.textContent = hearts[Math.floor(Math.random() * hearts.length)];
    const left = Math.random() * 100;
    const size = 14 + Math.random() * 20;
    const dur = 4.8 + Math.random() * 7.2;
    const delay = Math.random() * 1.4;

    d.style.left = left + "vw";
    d.style.fontSize = size + "px";
    d.style.animationDuration = dur + "s";
    d.style.animationDelay = delay + "s";
    d.style.opacity = (0.35 + Math.random() * 0.55).toFixed(2);

    rain.appendChild(d);
    setTimeout(() => d.remove(), (dur + delay) * 1000 + 250);
  }

  if (!isReduced){
    const density = window.innerWidth < 520 ? 280 : 190;
    for (let i = 0; i < 22; i++) addDrop();
    setInterval(addDrop, density);
  }

  // Confetti burst
  const confetti = document.getElementById("confetti");
  const confChars = ["üíñ","üíò","‚ú®","üéâ","üíó","üíï","‚ù§Ô∏è","üå∏","‚≠ê"];
  function burstConfetti(){
    confetti.classList.add("active");
    const count = window.innerWidth < 520 ? 26 : 40;

    for (let i = 0; i < count; i++){
      const c = document.createElement("div");
      c.className = "conf";
      c.textContent = confChars[Math.floor(Math.random() * confChars.length)];

      const left = Math.random() * 100;
      const size = 14 + Math.random() * 24;
      const dur = 2.8 + Math.random() * 1.6;

      c.style.left = left + "vw";
      c.style.fontSize = size + "px";
      c.style.animationDuration = dur + "s";
      c.style.opacity = (0.65 + Math.random() * 0.35).toFixed(2);

      confetti.appendChild(c);
      setTimeout(() => c.remove(), (dur * 1000) + 200);
    }

    setTimeout(() => confetti.classList.remove("active"), 3400);
  }

  // Buttons
  const yesBtn = document.getElementById("yesBtn");
  const noBtn = document.getElementById("noBtn");
  const egg = document.getElementById("egg");

  // YES grows as she chases NO
  let yesScale = 1;
  function growYes(){
    yesScale = Math.min(2.6, yesScale + 0.10);
    yesBtn.style.transform = `scale(${yesScale})`;
    yesBtn.style.boxShadow = `0 18px 44px rgba(22,163,74,${Math.min(0.75, 0.25 + yesScale/6)})`;
  }

  // NO jitter zone, stays near home, nearly impossible
  let noHome = null;
  function clamp(v, min, max){ return Math.max(min, Math.min(max, v)); }
  function setNoHomeIfNeeded(){
    if (noHome) return;
    const r = noBtn.getBoundingClientRect();
    noHome = { cx: r.left + r.width/2, cy: r.top + r.height/2, w: r.width, h: r.height };
  }
  function jitterNo(){
    setNoHomeIfNeeded();

    const pad = 10;
    const zoneRadiusX = Math.max(120, Math.min(240, window.innerWidth * 0.24));
    const zoneRadiusY = Math.max(95,  Math.min(190, window.innerHeight * 0.18));

    const rx = (Math.random() * 2 - 1) * zoneRadiusX;
    const ry = (Math.random() * 2 - 1) * zoneRadiusY;

    const x = noHome.cx + rx - noHome.w/2;
    const y = noHome.cy + ry - noHome.h/2;

    const maxX = window.innerWidth - noHome.w - pad;
    const maxY = window.innerHeight - noHome.h - pad;

    noBtn.style.position = "fixed";
    noBtn.style.left = clamp(x, pad, maxX) + "px";
    noBtn.style.top = clamp(y, pad, maxY) + "px";
    noBtn.style.zIndex = "9997";

    growYes();
  }
  window.addEventListener("resize", () => { noHome = null; });

  // Desktop, cursor near NO triggers jitter
  noBtn.addEventListener("mouseenter", jitterNo);
  document.addEventListener("mousemove", (e) => {
    if (!screen1.classList.contains("active")) return;
    setNoHomeIfNeeded();
    const r = noBtn.getBoundingClientRect();
    const cx = r.left + r.width/2;
    const cy = r.top + r.height/2;
    const dx = Math.abs(e.clientX - cx);
    const dy = Math.abs(e.clientY - cy);
    if (dx < 150 && dy < 120) jitterNo();
  });

  // Mobile, touching near NO triggers jitter
  noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); jitterNo(); }, { passive:false });
  document.addEventListener("touchstart", (e) => {
    if (!screen1.classList.contains("active")) return;
    const r = noBtn.getBoundingClientRect();
    const t = e.touches[0];
    const dx = Math.abs(t.clientX - (r.left + r.width/2));
    const dy = Math.abs(t.clientY - (r.top + r.height/2));
    if (dx < 165 && dy < 135) jitterNo();
  }, { passive:true });

  noBtn.addEventListener("click", (e)=>{ e.preventDefault(); jitterNo(); });

  // YES click goes to egg game
  yesBtn.addEventListener("click", () => {
    showScreen(2);
    egg.style.display = "block";
    moveEgg();
  });

  // Eggplant game
  function moveEgg(){
    const pad = 12;
    const w = 60;
    const h = 60;
    const maxX = Math.max(pad, window.innerWidth - w - pad);
    const maxY = Math.max(pad, window.innerHeight - h - pad);
    const x = Math.random() * (maxX - pad) + pad;
    const y = Math.random() * (maxY - pad) + pad;
    egg.style.left = x + "px";
    egg.style.top = y + "px";
  }

  egg.addEventListener("mouseenter", moveEgg);
  egg.addEventListener("touchstart", (e)=>{ e.preventDefault(); moveEgg(); }, { passive:false });

  egg.addEventListener("click", () => {
    egg.style.display = "none";
    burstConfetti();
    showScreen(3);
  });

  // Date menu selection
  const picked = document.getElementById("picked");
  const pickedHint = document.getElementById("pickedHint");
  document.getElementById("menu").addEventListener("click", (e) => {
    const card = e.target.closest(".choice");
    if (!card) return;

    const choice = card.getAttribute("data-choice") || "A cute date";
    picked.style.display = "inline-block";
    pickedHint.style.display = "block";
    picked.textContent = `Locked in: ${choice}. Pick up at 7 üòå`;
    burstConfetti();
  });
</script>

</body>
</html>
