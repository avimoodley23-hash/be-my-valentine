<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <!-- SECRET PREVIEW -->
  <title>Quick question</title>
  <meta property="og:title" content="Quick question">
  <meta property="og:description" content="Open when you have a second">
  <meta property="og:type" content="website">

  <style>
    :root{
      --bg1:#ff5fa2;
      --bg2:#7c3aed;
      --card:#ffffffee;
      --text:#111827;
      --muted:#6b7280;
      --yes:#16a34a;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 20% 10%, #ffd1e6 0%, transparent 55%),
        radial-gradient(900px 600px at 80% 20%, #c4b5fd 0%, transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      padding:22px;
      overflow:hidden;
    }

    .card{
      width:min(760px, 100%);
      background:var(--card);
      border-radius:28px;
      box-shadow:0 30px 80px rgba(0,0,0,.25);
      padding:26px;
      backdrop-filter: blur(10px);
      position:relative;
      z-index:1;
      transition: padding .15s ease;
    }

    .headerArea{
      transition: opacity .12s ease, transform .12s ease, height .12s ease, margin .12s ease;
    }
    .card.minimal .headerArea{
      opacity:0;
      transform: translateY(-6px);
      height:0;
      margin:0;
      overflow:hidden;
      pointer-events:none;
    }

    h1{
      margin:8px 0 6px;
      font-size:clamp(30px,4vw,44px);
      letter-spacing:-.03em;
    }
    p{
      margin:0 0 18px;
      color:var(--muted);
      font-size:16px;
      line-height:1.45;
    }
    .stage{
      margin-top:10px;
      border-radius:22px;
      background:#fff;
      padding:22px;
      border:1px solid #e5e7eb;
      min-height:290px;
      position:relative;
      overflow:hidden;
    }
    .screen{ display:none; }
    .screen.active{ display:block; }

    .big{
      font-size:clamp(22px,3vw,34px);
      font-weight:900;
      margin:0 0 10px;
      letter-spacing:-.02em;
      color:#111827;
    }
    .tiny{
      margin-top:12px;
      font-size:13px;
      color:#6b7280;
      line-height:1.4;
    }

    .buttons{
      display:flex;
      gap:14px;
      flex-wrap:wrap;
      align-items:center;
      position:relative;
      min-height:74px;
    }
    button{
      border:0;
      border-radius:16px;
      padding:14px 20px;
      font-size:16px;
      font-weight:800;
      cursor:pointer;
      user-select:none;
      touch-action: manipulation;
      transform-origin:center;
    }
    .yes{
      background:var(--yes);
      color:white;
      box-shadow:0 14px 30px rgba(22,163,74,.3);
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .no{
      background:#f3f4f6;
      border:1px solid #e5e7eb;
      position:relative;
      color:#111827;
    }

    /* Photo */
    .photoWrap{
      margin-top:14px;
      border-radius:18px;
      overflow:hidden;
      border:1px solid #e5e7eb;
      box-shadow:0 18px 40px rgba(0,0,0,.12);
      background:#fff;
    }
    .photoWrap img{
      width:100%;
      height:auto;
      display:block;
      object-fit:cover;
    }
    .caption{
      padding:10px 12px;
      font-size:13px;
      color:#6b7280;
      background:#fff;
      border-top:1px solid #f3f4f6;
    }

    /* Egg */
    .egg{
      font-size:52px;
      position:fixed;
      cursor:pointer;
      user-select:none;
      z-index:9998;
      transition: left 0.12s ease, top 0.12s ease;
      display:none;
    }

    /* Captcha overlay */
    .gate{
      position:fixed;
      inset:0;
      z-index:10050;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
      background: rgba(255,255,255,.18);
      backdrop-filter: blur(10px);
    }
    .gate.hidden{ display:none; }
    .gateCard{
      width:min(520px, 100%);
      background:#ffffffee;
      border:1px solid #ffffffaa;
      border-radius:22px;
      box-shadow:0 30px 80px rgba(0,0,0,.18);
      padding:20px;
    }
    .gateTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:10px;
    }
    .gateTitle{
      font-weight:900;
      color:#111827;
      margin:0;
      font-size:16px;
    }
    .gateHint{
      margin:0;
      color:#6b7280;
      font-size:13px;
      line-height:1.35;
    }
    .checkRow{
      display:flex;
      align-items:center;
      gap:12px;
      padding:14px;
      border-radius:18px;
      border:1px solid #e5e7eb;
      background:#fff;
      margin-top:12px;
    }
    .box{
      width:22px;
      height:22px;
      border-radius:6px;
      border:2px solid #cbd5e1;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      color:#16a34a;
      flex:0 0 auto;
    }
    .box.checked{
      border-color:#16a34a;
      background:#ecfdf5;
    }
    .tapGrid{
      margin-top:12px;
      border-radius:18px;
      border:1px solid #e5e7eb;
      background:#fff;
      padding:12px;
      display:none;
    }
    .tapGrid.active{ display:block; }
    .grid{
      display:grid;
      grid-template-columns: repeat(5, minmax(0, 1fr));
      gap:10px;
      margin-top:10px;
    }
    .cell{
      border-radius:14px;
      border:1px solid #e5e7eb;
      background:#f9fafb;
      padding:10px 0;
      text-align:center;
      font-size:20px;
      cursor:pointer;
      user-select:none;
    }
    .cell.hit{
      background:#ecfdf5;
      border-color:#bbf7d0;
    }
    @media (max-width: 520px){
      .grid{ grid-template-columns: repeat(4, minmax(0, 1fr)); }
    }
    .gateBtn{
      margin-top:12px;
      width:100%;
      border-radius:16px;
      padding:14px 16px;
      font-weight:900;
      background:#111827;
      color:#fff;
      border:0;
      display:none;
    }
    .gateBtn.show{ display:block; }

    /* Heart loading overlay */
    .heartLoad{
      position:fixed;
      inset:0;
      z-index:10040;
      display:none;
      align-items:center;
      justify-content:center;
      padding:20px;
      background: rgba(255,255,255,.18);
      backdrop-filter: blur(12px);
    }
    .heartLoad.active{ display:flex; }
    .heartCard{
      width:min(520px, 100%);
      background:#ffffffee;
      border:1px solid #ffffffaa;
      border-radius:22px;
      box-shadow:0 30px 80px rgba(0,0,0,.18);
      padding:22px;
      text-align:center;
    }
    .pulse{
      font-size:46px;
      animation: pulse 0.9s ease-in-out infinite;
      margin-bottom:10px;
    }
    @keyframes pulse{
      0%{ transform: scale(0.9); opacity:0.65; }
      50%{ transform: scale(1.12); opacity:1; }
      100%{ transform: scale(0.9); opacity:0.65; }
    }
    .loadTitle{
      margin:0 0 6px;
      font-weight:900;
      color:#111827;
      font-size:16px;
    }
    .loadText{
      margin:0;
      color:#6b7280;
      font-size:13px;
      line-height:1.35;
    }
  </style>
</head>

<body>

<!-- Heart loading overlay -->
<div class="heartLoad" id="heartLoad">
  <div class="heartCard">
    <div class="pulse">üíò</div>
    <p class="loadTitle">Processing ‚ÄúYES‚Äù‚Ä¶</p>
    <p class="loadText">Locking in the Valentine status üòå</p>
  </div>
</div>

<!-- Captcha gate -->
<div class="gate" id="gate">
  <div class="gateCard">
    <div class="gateTop">
      <p class="gateTitle">Security check</p>
      <p class="gateHint">Just making sure you‚Äôre Zozo üëÄ</p>
    </div>

    <div class="checkRow" id="robotRow">
      <div class="box" id="robotBox"></div>
      <div>
        <div style="font-weight:900; color:#111827;">I am not a robot</div>
        <div style="font-size:13px; color:#6b7280;">Tap to continue</div>
      </div>
    </div>

    <div class="tapGrid" id="tapGrid">
      <div style="font-weight:900; color:#111827;">Tiny captcha</div>
      <div style="font-size:13px; color:#6b7280;">Tap <strong>3 hearts</strong> to prove you‚Äôre cute.</div>

      <div class="grid" id="grid"></div>
      <button class="gateBtn" id="enterBtn">Enter üòå</button>
    </div>
  </div>
</div>

<div class="card" id="card">
  <div class="headerArea" id="headerArea">
    <h1 id="headline">Hey Zozo üíò</h1>
    <p>Hi. It‚Äôs me. The guy who buys you food, gives you cuddles, and is pretty cool.</p>
  </div>

  <div class="stage">
    <div class="screen" id="screen1">
      <p class="big">Will you be my Valentine, Bean?</p>
      <div class="buttons">
        <button class="yes" id="yesBtn">Yes üíñ</button>
        <button class="no" id="noBtn">No üòÖ</button>
      </div>
      <div class="tiny">There is no wrong answer. Except one. You know which one üòå</div>
    </div>

    <div class="screen" id="screen2">
      <p class="big">Congratulations. You are my Valentine! üíò</p>
      <p>Thank you so much. I am finally at peace.</p>

      <div class="photoWrap">
        <img src="us.jpg" alt="Us">
        <div class="caption">Us ü•π</div>
      </div>

      <p style="margin-top:14px;"><strong>Try catch the eggplant üçÜ</strong></p>
      <p style="margin-top:-8px; color:#6b7280;">If you can‚Äôt‚Ä¶ you can get it later üòâ</p>
      <div class="tiny">Go on. Try üòå</div>
    </div>

    <div class="screen" id="screen3">
      <p class="big">You said yes üò≠üíû</p>
      <p>That means it‚Äôs a promise of a whole lot of happiness, food, and fun.</p>
      <div class="pill">Screenshot this and send it to me üòå</div>
    </div>
  </div>
</div>

<div class="egg" id="egg">üçÜ</div>

<script>
  setTimeout(() => { document.title = "Zozo, Bean, Zo üíò"; }, 650);

  const params = new URLSearchParams(location.search);
  const name = params.get("name");
  if (name) document.getElementById("headline").textContent = `Hey ${name} üíò`;

  // Screens
  const card = document.getElementById("card");
  const screen1 = document.getElementById("screen1");
  const screen2 = document.getElementById("screen2");
  const screen3 = document.getElementById("screen3");

  function showScreen(n){
    screen1.classList.remove("active");
    screen2.classList.remove("active");
    screen3.classList.remove("active");
    document.getElementById("screen" + n).classList.add("active");
    if (n >= 2) card.classList.add("minimal");
    else card.classList.remove("minimal");
  }

  // Captcha gate
  const gate = document.getElementById("gate");
  const robotRow = document.getElementById("robotRow");
  const robotBox = document.getElementById("robotBox");
  const tapGrid = document.getElementById("tapGrid");
  const grid = document.getElementById("grid");
  const enterBtn = document.getElementById("enterBtn");

  let heartsNeeded = 3;
  let heartsTapped = 0;

  function buildGrid(){
    grid.innerHTML = "";
    heartsTapped = 0;
    enterBtn.classList.remove("show");

    const items = [];
    for (let i = 0; i < 6; i++) items.push("üíñ");
    for (let i = 0; i < 10; i++) items.push(["üçï","‚ú®","üå∏","üç£","üòå","üç¶"][Math.floor(Math.random()*6)]);

    for (let i = items.length - 1; i > 0; i--){
      const j = Math.floor(Math.random() * (i + 1));
      [items[i], items[j]] = [items[j], items[i]];
    }

    const shown = items.slice(0, 20);
    shown.forEach((emoji) => {
      const c = document.createElement("div");
      c.className = "cell";
      c.textContent = emoji;
      c.addEventListener("click", () => {
        if (c.classList.contains("hit")) return;
        c.classList.add("hit");
        if (emoji === "üíñ"){
          heartsTapped += 1;
          if (heartsTapped >= heartsNeeded){
            enterBtn.classList.add("show");
          }
        }
      });
      grid.appendChild(c);
    });
  }

  robotRow.addEventListener("click", () => {
    robotBox.classList.add("checked");
    robotBox.textContent = "‚úì";
    tapGrid.classList.add("active");
    buildGrid();
  });

  enterBtn.addEventListener("click", () => {
    gate.classList.add("hidden");
    showScreen(1);
  });

  // Heart loading overlay
  const heartLoad = document.getElementById("heartLoad");
  function showHeartLoad(ms){
    heartLoad.classList.add("active");
    setTimeout(() => heartLoad.classList.remove("active"), ms);
  }

  // Buttons and egg
  const yesBtn = document.getElementById("yesBtn");
  const noBtn = document.getElementById("noBtn");
  const egg = document.getElementById("egg");

  // Yes grows as she chases No
  let yesScale = 1;
  function growYes(){
    yesScale = Math.min(2.4, yesScale + 0.10);
    yesBtn.style.transform = `scale(${yesScale})`;
    yesBtn.style.boxShadow = `0 18px 44px rgba(22,163,74,${Math.min(0.75, 0.25 + yesScale/6)})`;
  }

  // No jitter
  let noHome = null;
  function clamp(v, min, max){ return Math.max(min, Math.min(max, v)); }
  function setNoHomeIfNeeded(){
    if (noHome) return;
    const r = noBtn.getBoundingClientRect();
    noHome = { cx: r.left + r.width/2, cy: r.top + r.height/2, w: r.width, h: r.height };
  }
  function jitterNo(){
    setNoHomeIfNeeded();

    const pad = 10;
    const zoneRadiusX = Math.max(120, Math.min(220, window.innerWidth * 0.22));
    const zoneRadiusY = Math.max(95,  Math.min(170, window.innerHeight * 0.16));

    const rx = (Math.random() * 2 - 1) * zoneRadiusX;
    const ry = (Math.random() * 2 - 1) * zoneRadiusY;

    const x = noHome.cx + rx - noHome.w/2;
    const y = noHome.cy + ry - noHome.h/2;

    const maxX = window.innerWidth - noHome.w - pad;
    const maxY = window.innerHeight - noHome.h - pad;

    noBtn.style.position = "fixed";
    noBtn.style.left = clamp(x, pad, maxX) + "px";
    noBtn.style.top = clamp(y, pad, maxY) + "px";
    noBtn.style.zIndex = "9997";

    growYes();
  }
  window.addEventListener("resize", () => { noHome = null; });

  noBtn.addEventListener("mouseenter", jitterNo);
  noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); jitterNo(); }, { passive:false });
  document.addEventListener("touchstart", (e) => {
    if (!screen1.classList.contains("active")) return;
    const r = noBtn.getBoundingClientRect();
    const t = e.touches[0];
    const dx = Math.abs(t.clientX - (r.left + r.width/2));
    const dy = Math.abs(t.clientY - (r.top + r.height/2));
    if (dx < 165 && dy < 135) jitterNo();
  }, { passive:true });
  noBtn.addEventListener("click", (e)=>{ e.preventDefault(); jitterNo(); });

  // Egg is impossible: always dodges
  function moveEgg(){
    const pad = 12;
    const w = 60;
    const h = 60;
    const maxX = Math.max(pad, window.innerWidth - w - pad);
    const maxY = Math.max(pad, window.innerHeight - h - pad);
    egg.style.left = (Math.random() * (maxX - pad) + pad) + "px";
    egg.style.top  = (Math.random() * (maxY - pad) + pad) + "px";
  }
  function evadeEgg(){ moveEgg(); }

  // YES click -> heart loading -> screen 2
  yesBtn.addEventListener("click", () => {
    showHeartLoad(900);
    setTimeout(() => {
      showScreen(2);
      egg.style.display = "block";
      moveEgg();
    }, 700);
  });

  egg.addEventListener("mouseenter", evadeEgg);
  egg.addEventListener("touchstart", (e)=>{ e.preventDefault(); evadeEgg(); }, { passive:false });
  egg.addEventListener("click", (e)=>{ e.preventDefault(); evadeEgg(); });

</script>

</body>
</html>
